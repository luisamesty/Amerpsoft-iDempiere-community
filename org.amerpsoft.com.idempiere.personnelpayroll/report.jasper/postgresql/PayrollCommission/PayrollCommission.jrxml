<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.21.2.final using JasperReports Library version 6.21.2-8434a0bd7c3bbc37cbf916f2968d35e4b165821a  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="PayrollCommission" pageWidth="1380" pageHeight="612" orientation="Landscape" columnWidth="1340" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="2a8631c3-b807-49b4-bd24-2bb8ccf7fd46">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="iidempiere-demo MONALISA"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="234"/>
	<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="760"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<parameter name="AD_Client_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[1000000]]></defaultValueExpression>
	</parameter>
	<parameter name="AD_Org_ID" class="java.lang.Integer"/>
	<parameter name="C_Currency_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[344]]></defaultValueExpression>
	</parameter>
	<parameter name="isShowHeader" class="java.lang.String">
		<defaultValueExpression><![CDATA["Y"]]></defaultValueExpression>
	</parameter>
	<parameter name="isShowColumns" class="java.lang.String">
		<defaultValueExpression><![CDATA["Y"]]></defaultValueExpression>
	</parameter>
	<parameter name="AMN_Concept_Types_ID" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[1000019]]></defaultValueExpression>
	</parameter>
	<parameter name="DateIni" class="java.sql.Timestamp"/>
	<parameter name="DateEnd" class="java.sql.Timestamp"/>
	<parameter name="isForExport" class="java.lang.String">
		<defaultValueExpression><![CDATA["Y"]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[-- PayrollCommission.jrxml
-- Commission Report based on AMN_CommisssionGroup Table and a given Concept
SELECT * FROM
	(
		-- REPORT HEADER
		SELECT DISTINCT ON (cli.ad_client_id)
			-- Client
			cli.ad_client_id as rep_client_id,
			-- Organization
			CASE WHEN ($P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0) THEN 0 ELSE $P{AD_Org_ID} END as rep_org_id,
			CASE WHEN ($P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0) THEN concat(COALESCE(cli.name,cli.value),' - Consolidado') ELSE coalesce(org.name,org.value,'') END as rep_name,
			CASE WHEN ($P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0) THEN concat(COALESCE(cli.description,cli.name),' - Consolidado') ELSE COALESCE(org.description,org.name,org.value,'') END as rep_description, 
			CASE WHEN ($P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0) THEN '' ELSE COALESCE(orginfo.taxid,'') END as rep_taxid,
			CASE WHEN ($P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0) THEN img1.binarydata ELSE img2.binarydata END as rep_logo,
		    CASE WHEN  org.ad_client_id = $P{AD_Client_ID}   AND ($P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0) THEN 1
		             WHEN  org.ad_client_id = $P{AD_Client_ID}  AND org.ad_org_id= $P{AD_Org_ID}  THEN 1
		             ELSE 0 END as imp_header
		FROM adempiere.ad_client as cli
			 INNER JOIN adempiere.ad_org as org ON (org.ad_client_id = cli.ad_client_id)
			 INNER JOIN adempiere.ad_clientinfo as cliinfo ON (cli.ad_client_id = cliinfo.ad_client_id)
			  LEFT JOIN adempiere.ad_image as img1 ON (cliinfo.logoreport_id = img1.ad_image_id)
			 INNER JOIN adempiere.ad_orginfo as orginfo ON (org.ad_org_id = orginfo.ad_org_id)
			  LEFT JOIN adempiere.ad_image as img2 ON (orginfo.logo_id = img2.ad_image_id)
		WHERE cli.ad_client_id = $P{AD_Client_ID} AND CASE WHEN ($P{AD_Org_ID} IS NULL OR $P{AD_Org_ID} = 0 OR org.ad_org_id = $P{AD_Org_ID} ) THEN 1 = 1 ELSE 1 = 0 END
	) as header_info
	FULL JOIN
	( SELECT DISTINCT 
		-- AD_Client 
		emp.ad_client_id,
		-- AD_org_id
		emp.ad_org_id,
		-- AMN_Commission
		ac.value AS comm_value,
		-- AMN_Contract
		amc.value AS contract_value,
		-- AMN_Employee
		emp.amn_employee_id,
		emp.value AS emp_value,
		emp.name AS emp_name,
		emp.isactive,
		emp.status,
		-- AMN_Concept_Types
		COALESCE(emprec.concepto,'') AS concepto,
		COALESCE(emprec.calcorder,0) AS calcorder,
		-- AMN_Payroll with Commission
		COALESCE(emprec.documentno,'') AS documentno,
		COALESCE(emprec.AMN_Payroll_ID,0) AS amn_payroll_id,
		COALESCE(emprec.comm_value_rec,'N/D') AS comm_value_rec,
		COALESCE(emprec.qtyvalue,0) AS qtyvalue,
		COALESCE(emprec.amountallocated,0) AS amountallocated,
		iso_code1, 
		COALESCE(emprec.amountallocated2,0) AS amountallocated2,
		iso_code2
		FROM adempiere.amn_employee emp 
		INNER JOIN adempiere.amn_commissiongroup ac ON ac.amn_commissiongroup_id = emp.amn_commissiongroup_id 
		INNER JOIN adempiere.amn_contract amc ON amc.amn_contract_id = emp.amn_contract_id 
		INNER JOIN (
			-- TRABAJADORES CON CONCEPTOS DE COMMISSION EN EL RECIBO
			SELECT 
				emp2.amn_employee_id,
				pyr2.AMN_Payroll_ID , 
				pyr2.documentno,
				ac2.value AS comm_value_rec,
				pyr2_d.qtyvalue,
				pyr2_d.amountallocated,
				currencyConvert(pyr2_d.amountallocated,pyr2.c_currency_id, $P{C_Currency_ID}, pyr2.dateacct, pyr2.C_ConversionType_ID, pyr2.AD_Client_ID, pyr2.AD_Org_ID ) as amountallocated2, 
				ct.value AS concepto,
				ct.calcorder AS calcorder,
				pyr2.c_conversiontype_id,
				-- CURRENCY
				curr1.iso_code as iso_code1,
				currt1.cursymbol as cursymbol1,
				COALESCE(currt1.description,curr1.iso_code,curr1.cursymbol,'') as currname1,
				curr2.iso_code as iso_code2,
				currt2.cursymbol as cursymbol2,
				COALESCE(currt2.description,curr2.iso_code,curr2.cursymbol,'') as currname2
			FROM adempiere.amn_employee emp2 
			INNER JOIN adempiere.amn_commissiongroup ac2 ON ac2.amn_commissiongroup_id = emp2.amn_commissiongroup_id 
			INNER JOIN adempiere.amn_payroll pyr2 ON emp2.amn_employee_id = pyr2.amn_employee_id 
			INNER JOIN adempiere.amn_payroll_detail pyr2_d ON pyr2_d.amn_payroll_id = pyr2.amn_payroll_id 
			INNER JOIN (
				SELECT DISTINCT ON (ap.amn_period_id)
				ap.amn_period_id, ap.amndateini, ap.amndateend, amnct.value, amnct.amn_concept_types_id, amctl.amn_concept_types_limit_id
				FROM adempiere.amn_period ap 
				INNER JOIN adempiere.amn_contract cnt ON cnt.amn_contract_id = ap.amn_contract_id 
				INNER JOIN adempiere.amn_concept_types_limit amctl ON amctl.ad_client_id = ap.ad_client_id 
				INNER JOIN adempiere.amn_concept_types amnct ON amnct.amn_concept_types_id = amctl.amn_concept_types_id
				WHERE ap.amndateini >= amctl.validfrom AND ap.amndateend <= amctl.validto
					AND ap.amn_contract_id IN (
						SELECT AMN_Contract_ID 	FROM adempiere.amn_concept_types_contract	WHERE AMN_Concept_Types_ID= $P{AMN_Concept_Types_ID}
					)
					AND ap.amn_process_id IN (
						SELECT AMN_Process_ID FROM adempiere.amn_concept_types_proc WHERE AMN_Concept_Types_ID=$P{AMN_Concept_Types_ID}
					)
					AND amctl.amn_concept_types_limit_id IN (
						SELECT DISTINCT AMN_Concept_Types_Limit_ID 
						FROM adempiere.amn_concept_types_limit actl 
						WHERE actl.validfrom BETWEEN DATE( $P{DateIni} ) AND DATE( $P{DateEnd} ) AND actl.ad_client_id= $P{AD_Client_ID} 
				)
			) AS periodo ON periodo.amn_period_id = pyr2.amn_period_id
			INNER JOIN adempiere.amn_concept_types_proc ctp ON ctp.amn_concept_types_proc_id = pyr2_d.amn_concept_types_proc_id
			INNER JOIN adempiere.amn_concept_types ct ON ct.amn_concept_types_id =ctp.amn_concept_types_id AND ct.amn_concept_types_id = $P{AMN_Concept_Types_ID}
			INNER JOIN c_currency curr1 on pyr2.c_currency_id = curr1.c_currency_id
		    LEFT JOIN c_currency_trl currt1 on curr1.c_currency_id = currt1.c_currency_id and currt1.ad_language = (SELECT AD_Language FROM AD_Client WHERE AD_Client_ID=$P{AD_Client_ID}) 
     		INNER JOIN c_currency curr2 on curr2.c_currency_id = $P{C_Currency_ID}
     		LEFT JOIN c_currency_trl currt2 on curr2.c_currency_id = currt2.c_currency_id and currt2.ad_language = (SELECT AD_Language FROM AD_Client WHERE AD_Client_ID=$P{AD_Client_ID})
			) emprec ON emprec.amn_employee_id = emp.amn_employee_id
		WHERE emp.isactive ='Y' AND emp.status IN ('A','V')
	) as commission ON (1= 0)
WHERE (imp_header = 1) OR 
	(commission.ad_client_id= $P{AD_Client_ID} 
	AND ( CASE WHEN ( $P{AD_Org_ID}  IS NULL OR $P{AD_Org_ID} = 0 OR commission.ad_org_id= $P{AD_Org_ID} ) THEN 1=1 ELSE 1=0 END ) )
ORDER BY commission.comm_value, commission.contract_value, commission.emp_value, header_info ASC

]]>
	</queryString>
	<field name="rep_client_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="rep_client_id"/>
		<property name="com.jaspersoft.studio.field.label" value="rep_client_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="ad_client"/>
	</field>
	<field name="rep_org_id" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="rep_org_id"/>
		<property name="com.jaspersoft.studio.field.label" value="rep_org_id"/>
	</field>
	<field name="rep_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="rep_name"/>
		<property name="com.jaspersoft.studio.field.label" value="rep_name"/>
	</field>
	<field name="rep_description" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="rep_description"/>
		<property name="com.jaspersoft.studio.field.label" value="rep_description"/>
	</field>
	<field name="rep_taxid" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="rep_taxid"/>
		<property name="com.jaspersoft.studio.field.label" value="rep_taxid"/>
	</field>
	<field name="rep_logo" class="byte[]">
		<property name="com.jaspersoft.studio.field.name" value="rep_logo"/>
		<property name="com.jaspersoft.studio.field.label" value="rep_logo"/>
	</field>
	<field name="imp_header" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="imp_header"/>
		<property name="com.jaspersoft.studio.field.label" value="imp_header"/>
	</field>
	<field name="ad_client_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="ad_client_id"/>
		<property name="com.jaspersoft.studio.field.label" value="ad_client_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_employee"/>
	</field>
	<field name="ad_org_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="ad_org_id"/>
		<property name="com.jaspersoft.studio.field.label" value="ad_org_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_employee"/>
	</field>
	<field name="comm_value" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="comm_value"/>
		<property name="com.jaspersoft.studio.field.label" value="comm_value"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_commissiongroup"/>
	</field>
	<field name="contract_value" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="contract_value"/>
		<property name="com.jaspersoft.studio.field.label" value="contract_value"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_contract"/>
	</field>
	<field name="amn_employee_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amn_employee_id"/>
		<property name="com.jaspersoft.studio.field.label" value="amn_employee_id"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_employee"/>
	</field>
	<field name="emp_value" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="emp_value"/>
		<property name="com.jaspersoft.studio.field.label" value="emp_value"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_employee"/>
	</field>
	<field name="emp_name" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="emp_name"/>
		<property name="com.jaspersoft.studio.field.label" value="emp_name"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_employee"/>
	</field>
	<field name="isactive" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="isactive"/>
		<property name="com.jaspersoft.studio.field.label" value="isactive"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_employee"/>
	</field>
	<field name="status" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="status"/>
		<property name="com.jaspersoft.studio.field.label" value="status"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_employee"/>
	</field>
	<field name="concepto" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="concepto"/>
		<property name="com.jaspersoft.studio.field.label" value="concepto"/>
	</field>
	<field name="calcorder" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="calcorder"/>
		<property name="com.jaspersoft.studio.field.label" value="calcorder"/>
	</field>
	<field name="documentno" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="documentno"/>
		<property name="com.jaspersoft.studio.field.label" value="documentno"/>
	</field>
	<field name="amn_payroll_id" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amn_payroll_id"/>
		<property name="com.jaspersoft.studio.field.label" value="amn_payroll_id"/>
	</field>
	<field name="comm_value_rec" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="comm_value_rec"/>
		<property name="com.jaspersoft.studio.field.label" value="comm_value_rec"/>
	</field>
	<field name="qtyvalue" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="qtyvalue"/>
		<property name="com.jaspersoft.studio.field.label" value="qtyvalue"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="amn_payroll_detail"/>
	</field>
	<field name="amountallocated" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amountallocated"/>
		<property name="com.jaspersoft.studio.field.label" value="amountallocated"/>
	</field>
	<field name="iso_code1" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="iso_code1"/>
		<property name="com.jaspersoft.studio.field.label" value="iso_code1"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_currency"/>
	</field>
	<field name="amountallocated2" class="java.math.BigDecimal">
		<property name="com.jaspersoft.studio.field.name" value="amountallocated2"/>
		<property name="com.jaspersoft.studio.field.label" value="amountallocated2"/>
	</field>
	<field name="iso_code2" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="iso_code2"/>
		<property name="com.jaspersoft.studio.field.label" value="iso_code2"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="c_currency"/>
	</field>
	<variable name="v_employee_count" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[($F{amn_employee_id}.compareTo( BigDecimal.ZERO )!= 0 ? 1 : 0 )]]></variableExpression>
	</variable>
	<variable name="v_employee_count_OCAA" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[($F{amn_employee_id}.compareTo( BigDecimal.ZERO )!= 0 && $F{comm_value}.compareToIgnoreCase( "OCAA" )==0? 1 : 0 )]]></variableExpression>
	</variable>
	<variable name="v_employee_count_OCBA" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[($F{amn_employee_id}.compareTo( BigDecimal.ZERO )!= 0 && $F{comm_value}.compareToIgnoreCase( "OCBA" )==0? 1 : 0 )]]></variableExpression>
	</variable>
	<variable name="v_employee_count_OCCA" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[($F{amn_employee_id}.compareTo( BigDecimal.ZERO )!= 0 && $F{comm_value}.compareToIgnoreCase( "OCCA" )==0? 1 : 0 )]]></variableExpression>
	</variable>
	<variable name="v_amountallocated2" class="java.math.BigDecimal" calculation="Sum">
		<variableExpression><![CDATA[$F{amountallocated2}]]></variableExpression>
		<initialValueExpression><![CDATA[BigDecimal.ZERO]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<pageHeader>
		<band height="45" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{isShowHeader}.compareToIgnoreCase( "Y" ) == 0]]></printWhenExpression>
			<textField pattern="dd/MM/yy">
				<reportElement x="1100" y="0" width="240" height="15" uuid="cd98b8bb-c602-4475-a957-3d93ce023f44">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="75" y="15" width="340" height="15" uuid="3f026d08-a8ee-42ac-a04f-028f3a826277">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="10"/>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{rep_taxid}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="75" y="0" width="340" height="15" uuid="7a711e30-c465-4329-bead-76fde1d84ca4">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="10"/>
				<textElement verticalAlignment="Top">
					<font fontName="Arial" size="11" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{rep_name}]]></textFieldExpression>
			</textField>
			<image onErrorType="Blank" evaluationTime="Report">
				<reportElement x="0" y="0" width="75" height="45" uuid="504a3aa6-312e-4c03-acbf-424063d58919">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<imageExpression><![CDATA[$F{rep_logo}]]></imageExpression>
			</image>
			<staticText>
				<reportElement x="415" y="0" width="685" height="30" backcolor="#C24A48" uuid="b1ffab59-482a-4c92-bc25-6d67f3cc253d">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Bottom">
					<font fontName="Arial" size="16" isBold="true"/>
				</textElement>
				<text><![CDATA[Reporte de Conceptos de Comisión]]></text>
			</staticText>
			<textField evaluationTime="Report">
				<reportElement x="1240" y="15" width="100" height="15" uuid="b31083f3-28be-4dc0-994f-9fc4b5e713bf">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" de "+$V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="1100" y="15" width="140" height="15" uuid="d35106da-cb07-435f-94fd-89aecd91295f">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Página " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="415" y="30" width="685" height="15" uuid="857df27e-1f21-4b5d-853d-d558e7b64a86">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement textAlignment="Center">
					<font fontName="Arial"/>
				</textElement>
				<textFieldExpression><![CDATA["Período del " + new SimpleDateFormat("dd/MM/yyyy").format($P{DateIni}) + " al " + new SimpleDateFormat("dd/MM/yyyy").format($P{DateEnd}) + "  "]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="26" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{isShowColumns}.compareToIgnoreCase( "Y" ) == 0]]></printWhenExpression>
			<line>
				<reportElement x="0" y="2" width="1340" height="1" uuid="69f43c09-0a33-4693-912d-7a0bdd2a469c">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="0" width="1340" height="1" uuid="2539f63e-2080-4e79-b28b-a5fc4f349091">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="0" y="4" width="75" height="20" uuid="0be18d86-247b-4180-8778-6768c70ee393">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="0"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Ficha]]></text>
			</staticText>
			<staticText>
				<reportElement x="485" y="3" width="60" height="20" uuid="639c7cb4-301e-4ec1-8342-57a006ea234e">
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Contrato]]></text>
			</staticText>
			<staticText>
				<reportElement x="790" y="3" width="60" height="20" uuid="e2666e83-e36d-4374-af41-1f3ade56a433">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Cantidad]]></text>
			</staticText>
			<staticText>
				<reportElement x="75" y="4" width="340" height="20" uuid="e542dd78-316a-4ef7-b0f0-f3b3911409d0">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Nombre]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="25" width="1340" height="1" uuid="86860efd-7c0a-4c0b-ab1d-b7f26f5b37bc">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<line>
				<reportElement x="0" y="23" width="1340" height="1" uuid="f1912a56-953e-45a8-a15c-a411c477939b">
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement x="550" y="3" width="70" height="20" uuid="51d6d0f1-059e-481e-8c5b-a1a35fdb2775">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="5"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Documento]]></text>
			</staticText>
			<staticText>
				<reportElement x="415" y="3" width="70" height="20" uuid="569778e6-2fd9-4c1d-aae8-7105b8b1b039"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Comision]]></text>
			</staticText>
			<staticText>
				<reportElement x="620" y="3" width="50" height="20" uuid="1d13bdba-dbcb-40e2-834c-864031543d26">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Comision Planilla]]></text>
			</staticText>
			<staticText>
				<reportElement x="1100" y="4" width="240" height="20" uuid="7a2920b1-1924-4021-b48f-6a52e5985cb2">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Observaciones]]></text>
			</staticText>
			<staticText>
				<reportElement x="670" y="3" width="120" height="20" uuid="2e671728-8f28-4a7c-aaa9-f23a701b4c60">
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Concepto]]></text>
			</staticText>
			<staticText>
				<reportElement x="900" y="3" width="100" height="20" uuid="2a3f3995-592c-47ad-87a3-f6916ff36c4c">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Monto]]></text>
			</staticText>
			<staticText>
				<reportElement x="850" y="3" width="50" height="20" uuid="48168ac2-01d4-44cb-9cd9-ad42e7751c47">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Moneda]]></text>
			</staticText>
			<staticText>
				<reportElement x="1000" y="3" width="100" height="20" uuid="90b263c5-6a46-4a6d-9814-6bc67b4f6768">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Monto Convertido]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="14" splitType="Stretch">
			<printWhenExpression><![CDATA[$F{amn_payroll_id}!= null]]></printWhenExpression>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="75" height="14" isRemoveLineWhenBlank="true" uuid="093ba6b5-25bd-45f1-ad24-1b334c7831fe">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box leftPadding="4"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{emp_value}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="75" y="0" width="340" height="14" isRemoveLineWhenBlank="true" uuid="0357fe32-bf93-424d-9492-8d1f9e28746a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitx" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{emp_name}.toUpperCase()]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="485" y="0" width="60" height="14" isRemoveLineWhenBlank="true" uuid="8bf6896b-f6b3-4d5e-b526-1d68f0f7906a">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{contract_value}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="790" y="0" width="60" height="14" isRemoveLineWhenBlank="true" uuid="2f3b5a53-fc3a-449a-8e74-6bdc841aa26a">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{qtyvalue}]]></textFieldExpression>
				<patternExpression><![CDATA[$P{isForExport}.compareToIgnoreCase( "N" ) == 0.0 ?  "#,##0.00;(-#,##0.00)"  :"###0.00"]]></patternExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="550" y="0" width="70" height="14" isRemoveLineWhenBlank="true" uuid="747375ca-5ace-4737-8f19-731a0649abe7">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
					<paragraph lineSpacing="Single" lineSpacingSize="1.5" spacingBefore="0" spacingAfter="0"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{documentno}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="620" y="0" width="50" height="14" isRemoveLineWhenBlank="true" uuid="ac1d75ac-8e21-4eef-8f81-f901a098981e">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="4"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{comm_value_rec}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="415" y="0" width="70" height="14" isRemoveLineWhenBlank="true" uuid="664712b0-eec7-4285-a774-ac9f69f15283">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{comm_value}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="1100" y="0" width="240" height="14" isRemoveLineWhenBlank="true" uuid="cbcd5b55-175d-47d5-84ba-4ce3e0423ccf">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{documentno}.isEmpty() || $F{qtyvalue}.compareTo( java.math.BigDecimal.ZERO) == 0 ? "*** Revisar Planilla ***" : "OK"]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="670" y="0" width="120" height="14" isRemoveLineWhenBlank="true" uuid="d97517ba-749d-41da-bf97-2c664f850b0d">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box leftPadding="4"/>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="false"/>
				</textElement>
				<textFieldExpression><![CDATA[String.format("%.0f",$F{calcorder})+"-"+$F{concepto}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="900" y="0" width="100" height="14" isRemoveLineWhenBlank="true" uuid="e42dc367-cb28-49e5-b51f-cda6fd1ee593">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{amountallocated}]]></textFieldExpression>
				<patternExpression><![CDATA[$P{isForExport}.compareToIgnoreCase( "N" ) == 0.0 ?  "#,##0.00;(-#,##0.00)"  :"###0.00"]]></patternExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="850" y="0" width="50" height="14" isRemoveLineWhenBlank="true" uuid="a3d8fdff-dea4-40f6-aaee-6c4efa149993">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{iso_code1}]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="1000" y="0" width="100" height="14" isRemoveLineWhenBlank="true" uuid="39f3bd72-05b5-4329-bfe3-3c6ea9dd2c1d">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{amountallocated2}]]></textFieldExpression>
				<patternExpression><![CDATA[$P{isForExport}.compareToIgnoreCase( "N" ) == 0.0 ?  "#,##0.00;(-#,##0.00)"  :"###0.00"]]></patternExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="16">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField>
				<reportElement mode="Transparent" x="0" y="0" width="900" height="16" forecolor="#000000" backcolor="#FFFFFF" uuid="8994951c-0236-4713-9cb4-66c9f2f510fc">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Total Trabajadores: ("+$V{v_employee_count}+")" +"   Comision OCAA: "+$V{v_employee_count_OCAA} +"   Comision OCBA: "+$V{v_employee_count_OCBA} +"   Comision OCCA: "+$V{v_employee_count_OCCA}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement mode="Transparent" x="900" y="0" width="100" height="16" forecolor="#000000" backcolor="#FFFFFF" uuid="83e586b6-fc69-40cb-aa02-6bf4a149f0a5">
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box leftPadding="20"/>
				<textElement textAlignment="Left" verticalAlignment="Middle" rotation="None" markup="none">
					<font fontName="Arial" size="10" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false"/>
				</textElement>
				<textFieldExpression><![CDATA["Total Reporte : "]]></textFieldExpression>
			</textField>
			<textField textAdjust="StretchHeight" pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="1000" y="0" width="100" height="14" isRemoveLineWhenBlank="true" uuid="6a5dc8a2-f1ae-4048-bdd3-f2bc53822456">
					<property name="local_mesure_unitwidth" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="px"/>
				</reportElement>
				<box leftPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="Arial" size="10" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{v_amountallocated2}]]></textFieldExpression>
				<patternExpression><![CDATA[$P{isForExport}.compareToIgnoreCase( "N" ) == 0.0 ?  "#,##0.00;(-#,##0.00)"  :"###0.00"]]></patternExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
